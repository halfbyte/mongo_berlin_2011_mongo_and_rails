<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Rails and MongoDB, a perfect match?!</title>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/style.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
    setupPreso(false, './');
  });
  </script>
</head>

<body>


<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">&larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">z</td><td>toggle help (this)</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="intro/01_title">
<h1>Rails and MongoDB</h1>

<h1>A perfect match[?|!]</h1>

<h3>A presentation for Mongo Berlin 2011</h3>

<h3>Jan Krutisch <a href="mailto:jan.krutisch@mindmatters.de">jan.krutisch@mindmatters.de</a></h3>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/1">
<h1>me.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/2">
<h1>mindmatters.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/3">
<h1>we're hiring, btw.</h1>

<h2>talk to me please.</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/4">
<h1>web applications.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/5">
<h1>a lot of them.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/6">
<h1>very short project runtime.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/7">
<h1>tight budget.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/8">
<h1>tools</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/9">
<h1>get out of the way.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/10">
<h1>yak shaving is prohibited.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/11">
<h1>quick, not dirty.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/12">
<h1>impossible.</h1>
</div>
</div><div class="slide" data-transition="fade"><div class="content center" ref="buildup/01_rails_is_dope/13">
<p><img src="file:///Users/jankrutisch/Dropbox/pra&#x308;sentationen/mongo_berlin_2011_mongo_and_rails/buildup/handsome.jpg" width="1024" height="640" alt="Handsome"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/14">
<h1>Rails</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/15">
<h1>benefits:</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/16">
<h1>abstraction.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/17">
<h1>right level of abstraction.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/18">
<h1>best practices.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/19">
<h1>DRY POLS</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/20">
<h1>DRY PLS</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/01_rails_is_dope/21">
<pre class="sh_Ruby"><code>2.days.from_now</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/22">
<h1>opinion!</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/23">
<h1>greenfield</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/24">
<h1>database backed</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/25">
<h1>web applications</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/01_rails_is_dope/26">
<h1><del>scaling</del></h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/1">
<h1>webscale.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/2">
<h1>MongoDB</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/3">
<h1>document.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/4">
<h1>stuff that belongs together.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/5">
<h1>tags.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/6">
<h1>don't try this at home.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/7">
<pre class="sh_SQL"><code>INSERT INTO posts (title, text) 
  VALUES ('title', 'text');
SELECT * FROM tags 
  WHERE tags.name IN ('foo', 'bar');
INSERT INTO tags (name) VALUES ('foo');
INSERT INTO taggings 
  (tag_id, taggable_id, taggable_type) 
  VALUES (12, 42, 'Post');</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/8">
<pre class="sh_Javascript"><code>{
  "title": "title",
  "text": "text",
  "tags": ["foo", "bar"]
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/9">
<pre class="sh_SQL"><code>SELECT posts.* FROM posts
  JOIN taggings ON
    taggings.taggable_id = posts.id 
    AND taggings.taggale_type = 'Post'
  JOIN tags ON
    taggings.tag_id = tags.id
  WHERE
    tags.name = 'foo'</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/10">
<pre class="sh_Javascript"><code>{
  "tags": "foo"
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/11">
<h1>excursion</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/12">
<h1>PostgreSQL has arrays.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/13">
<pre class="sh_SQL"><code>INSERT INTO posts (title, text, tags)
  VALUES (
  'title', 'text',
  {'foo', 'bar'}
)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="buildup/02_mongodb/14">
<pre class="sh_SQL"><code>SELECT * FROM posts WHERE 
  'foo' = ANY(tags)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/15">
<h3>Tip: Arrays are not sets; searching for specific array elements can be a sign of database misdesign. <em>Consider using a separate table with a row for each item</em> that would be an array element. This will be easier to search, and is likely to scale better for a large number of elements.</h3>

<h3><a href="http://www.postgresql.org/docs/9.0/interactive/arrays.html">http://www.postgresql.org/docs/9.0/interactive/arrays.html</a></h3>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/16">
<h1>rich structure, queryable.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/17">
<h1>flexible, changeable.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/18">
<h1>migrations.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="buildup/02_mongodb/19">
<h1>first scaling hurt.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/1">
<h1>active_record</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="teardown/01_realtalk/2">
<pre class="sh_Ruby"><code>Post.new(
  {
    title: "title",
    text: "text",
    "tag_names": "foo, bar"
  }
)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/3">
<h1>cheat.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/4">
<h1>acts_as_taggable_on</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="teardown/01_realtalk/5">
<pre class="sh_Ruby"><code>Post.tagged_with('foo').all</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/6">
<h1>rails integration.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/7">
<h1>ActiveModel</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/8">
<h1>abstraction.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/9">
<h1>MongoMapper</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="teardown/01_realtalk/10">
<p><img src="file:///Users/jankrutisch/Dropbox/pra&#x308;sentationen/mongo_berlin_2011_mongo_and_rails/teardown/mongomapperdotcom.jpg" width="689" height="529" alt=""/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/11">
<h1>l&#xE9; *sigh*</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/12">
<h1>Mongoid</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/13">
<h1>has documentation.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/14">
<h1>has no stable version for rails 3</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/15">
<h1>(But any day now...)</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="teardown/01_realtalk/16">
<pre class="sh_Ruby"><code>class Person
  include Mongoid::Document
  references_one :policy
  references_many :prescriptions
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/17">
<h1>POLS</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/18">
<h1>l&#xE9; *sigh*</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/01_realtalk/19">
<h1>amazing work.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/1">
<h1>Operations</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/2">
<h1>Installation</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/3">
<h1>Stability, Durability</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/4">
<h1>1.8</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/5">
<h1>\o/</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/6">
<h1>Backups</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/7">
<h1>l&#xE9; *sigh*</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/8">
<h1>The "foursquare" situation.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/02_operations/9">
<h1>aka "know your database"</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/03_tools/1">
<h1>tools.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="teardown/03_tools/2">
<h1>no surprises.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/01_some_kind_words/1">
<h1>let's talk shop!</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/01_some_kind_words/2">
<h1>it's not all bad.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/01_some_kind_words/3">
<h1>active_record vs. mongoid</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="epilogue/01_some_kind_words/4">
<h1>LOC</h1>

<ul>
<li>ActiveRecord 2.3.8: <em>47342</em></li>
<li>ActiveRecord 3.0.5: <em>20142</em></li>
<li>ActiveModel 3.0.5: <em>3565</em></li>
<li>ARel 2.0.9: <em>5653</em></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="epilogue/01_some_kind_words/5">
<h1>LOC</h1>

<ul>
<li>MongoMapper: <em>13857</em></li>
<li>Plucky: <em>723</em></li>
<li>Mongoid: <em>8331</em></li>
<li>(Validatable): <em>2557</em></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/01_some_kind_words/6">
<h1>mongo query syntax vs. SQL</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="epilogue/01_some_kind_words/7">
<pre class="sh_Ruby"><code>Post.tagged_with('foo').all</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="epilogue/01_some_kind_words/8">
<pre class="sh_SQL"><code>"SYNTAX ERROR NEAR 'JOIN taggings ON'"...</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/1">
<h1>in the end.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/2">
<h1>MongoDB will hurt.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/3">
<h1>Other things might hurt more.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/4">
<h1>we've come a long way.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/5">
<h1>give it some time.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/6">
<h1>play with it today.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/7">
<h1>help making it fly.</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/8">
<h1>and again:</h1>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/02_we_need_a_resolution/9">
<h1>come join me</h1>

<h1>@ <a href="http://www.mindmatters.de/software-entwickler-stellenangebot-mindmatters.html">mindmatters</a></h1>

<h2>http://www.mindmatters.de/</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="epilogue/02_we_need_a_resolution/10">
<h1>thank you!</h1>

<ul>
<li><a href="http://twitter.com/halfbyte/">http://twitter.com/halfbyte/</a></li>
<li><a href="http://jan.krutisch.de/">http://jan.krutisch.de/</a></li>
<li><a href="http://github.com/halfbyte">http://github.com/halfbyte</a></li>
</ul>

</div>
</div>
</div>

</body>
</html>
